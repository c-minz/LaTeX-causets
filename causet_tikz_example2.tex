\documentclass[tikz]{standalone}
\usepackage[blue]{causets}
\usetikzlibrary{fit,shapes.geometric}
% Set colours and style:
\colorlet{future colour}{green!50!black}
\colorlet{past colour}{yellow!50!orange!80!black}
\colorlet{anywhere colour}{red!80!black}
\tikzset{prob arrow/.style={line width=1.5pt}}
% Define some helper functions:
\newcommand*{\semiopaque}[1]{% Adds a transparency group.
\begin{scope}[transparency group, opacity=0.5]
	#1
\end{scope}
}
\newcommand*{\drawprobarrow}[4][]{% Draws a (probability) arrow.
\draw[prob arrow] (#2) -- node[sloped, midway, below, #1] {$#3$} (#4);
}
\newcommand{\drawlegendsymbol}{% Draws the symbol for a legend entry.
\draw[prob arrow] (0,0) -- +(10pt, 6pt);
}
\newcommand{\legendsymbol}[1]{% Creates the legend symbol.
\begin{tikzpicture}
	\ifnum#1=0
		\drawlegendsymbol
	\else
		\semiopaque{\drawlegendsymbol}
	\fi
\end{tikzpicture}
}
\begin{document}
\begin{tikzpicture}[-stealth]
	\def\ystep{2.0cm}
	\def\xstep{0.52cm}
	% Create nodes of all causets with 1 to 4 events:
	\begin{scope}[nodes={draw, thin, circle, minimum size=1.02cm}]
		\node (C1) at ( 0,  0) {\pcauset{1}};
		\node (C12) at (-4*\xstep,  1*\ystep) {\pcauset{1,2}};
		\node (C21) at ( 4*\xstep,  1*\ystep) {\pcauset{2,1}};
		\foreach \CPoint/\CXPos/\CPerm in {C123/-8/{{1,2,3}}, C132/-4/{{1,3,2}}, C312/0/{{3,1,2}}, C213/4/{{2,1,3}}, C321/8/{{3,2,1}}}
			\node (\CPoint) at (\CXPos*\xstep,  2*\ystep) {\expandafter\pcauset\CPerm};
		\foreach \CPoint/\CXPos/\CPerm in {C1234/-15/{{1,2,3,4}}, C1243/-13/{{1,2,4,3}}, C1423/-11/{{1,4,2,3}}, C1324/-9/{{1,3,2,4}}, C1432/-7/{{1,4,3,2}}, C4123/-5/{{4,1,2,3}}, C4132/-3/{{4,1,3,2}}, C3124/-1/{{3,1,2,4}}, C3412/1/{{3,4,1,2}}, C3142/3/{{3,1,4,2}}, C4312/5/{{4,3,1,2}}, C2134/7/{{2,1,3,4}}, C2143/9/{{2,1,4,3}}, C4213/11/{{4,2,1,3}}, C3214/13/{{3,2,1,4}}, C4321/15/{{4,3,2,1}}}
			\node (\CPoint) at (\CXPos*\xstep,  3.75*\ystep) {\expandafter\pcauset\CPerm};
	\end{scope}
	% Add graph edges for expandings ...
	% ... to the past (additionally):
	\begin{scope}[past colour]
		\foreach \StartPoint/\EndPoint in {C12/C213, C123/C3124, C123/C2134, C132/C1243, C132/C3142, C132/C2143, C312/C1423, C312/C4213, C213/C1324, C213/C3124, C213/C3214, C321/C1432, C321/C4132, C21/C132}
			\semiopaque{\drawprobarrow{\StartPoint}{}{\EndPoint}};
	\end{scope}
	% ... to anywhere (additionally, further):
	\begin{scope}[anywhere colour]
		\semiopaque{\drawprobarrow{C123}{}{C1324}};
	\end{scope}
	% ... to the future:
	\begin{scope}[prob arrow, future colour]
		\drawprobarrow{C1}{p_{12}}{C12}
		\drawprobarrow{C12}{p_{123}}{C123}
		\drawprobarrow{C123}{p_{1234}}{C1234}
		\drawprobarrow[near end]{C123}{p_{1243}}{C1243}
		\drawprobarrow[near end]{C123}{p_{1423}}{C1423}
		\drawprobarrow[near start, above]{C123}{p_{4123}}{C4123}
		\drawprobarrow[above]{C12}{p_{132}}{C132}
		\drawprobarrow[near end]{C132}{p_{1342}}{C1423}
		\drawprobarrow[near end]{C132}{p_{1324}}{C1324}
		\drawprobarrow[midway, above]{C132}{p_{1432}}{C1432}
		\drawprobarrow[near start]{C132}{p_{4132}}{C4132}
		\drawprobarrow[near start, above]{C12}{p_{312}}{C312}
		\drawprobarrow[near end]{C312}{p_{3124}}{C3124}
		\drawprobarrow[near end]{C312}{p_{3412}}{C3412}
		\drawprobarrow[near end]{C312}{p_{3142}}{C3142}
		\drawprobarrow[near start]{C312}{p_{4312}}{C4312}
		\drawprobarrow{C1}{p_{21}}{C21}
		\drawprobarrow[near start, above]{C21}{p_{231}}{C312}
		\drawprobarrow[near start]{C312}{p_{2341}}{C4123}
		\drawprobarrow[near end]{C312}{p_{2431}}{C4132}
		\drawprobarrow{C21}{p_{213}}{C213}
		\drawprobarrow[above]{C213}{p_{2134}}{C2134}
		\drawprobarrow[near start]{C213}{p_{2413}}{C3142}
		\drawprobarrow[near end]{C213}{p_{2143}}{C2143}
		\drawprobarrow[near end]{C213}{p_{4213}}{C4213}
		\drawprobarrow{C21}{p_{321}}{C321}
		\drawprobarrow[near start, above]{C321}{p_{3421}}{C4312}
		\drawprobarrow[near end]{C321}{p_{3241}}{C4213}
		\drawprobarrow[near end]{C321}{p_{3214}}{C3214}
		\drawprobarrow{C321}{p_{4321}}{C4321}
	\end{scope}
	% Add legend:
	\node[above left, align=left, draw, inner sep=3ex, fill=gray!05]
		at (15*\xstep, 0)
		{Expanding into\\
		 \bfseries\color{future colour}\legendsymbol{0}\ the future\\
		 \bfseries\color{past colour}\legendsymbol{1}\ + the past\\
		 \bfseries\color{anywhere colour}\legendsymbol{1}\ + anywhere};
\end{tikzpicture}
\end{document}
